(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.Widget={},s.Vue))})(this,(function(s,e){"use strict";const i=e.ref("");function p(){if(window.FEEDBACK_CONFIG&&window.FEEDBACK_CONFIG.projectSlug){i.value=window.FEEDBACK_CONFIG.projectSlug;return}const a=document.getElementsByTagName("script");for(const t of a)if(t.src&&t.src.includes("widget.umd")){const c=t.getAttribute("data-project-slug");if(c){i.value=c;return}}i.value=""}const f=(a,t)=>{const c=a.__vccOpts||a;for(const[o,n]of t)c[o]=n;return c},u={class:"modal-dialog modal-lg feedback-modal-dialog"},b={class:"modal-content feedback-modal-content"},_={class:"modal-body feedback-modal-body"},E={class:"mb-3"},N={class:"mb-3"},V={class:"mb-3"},g={key:0,class:"form-text text-danger"},k={class:"modal-footer feedback-modal-footer"},x=["disabled"],y=f({__name:"FeedbackModal",emits:["close"],setup(a,{emit:t}){const c=t,o=e.ref(""),n=e.ref(""),d=e.ref("");e.onMounted(()=>{o.value=localStorage.getItem("name")||"",n.value=localStorage.getItem("contact")||""});const m=()=>c("close"),I=e.computed(()=>n.value&&d.value&&d.value.length>=10),T=()=>{localStorage.setItem("name",o.value),localStorage.setItem("contact",n.value),console.log({name:o.value,contact:n.value,description:d.value,project_slug:i.value}),m()};return(j,l)=>(e.openBlock(),e.createElementBlock("div",{class:"feedback-modal-backdrop",onClick:e.withModifiers(m,["self"])},[e.createElementVNode("div",u,[e.createElementVNode("div",b,[e.createElementVNode("div",{class:"modal-header feedback-modal-header"},[l[3]||(l[3]=e.createElementVNode("h5",{class:"modal-title"},"Сообщить о проблеме",-1)),e.createElementVNode("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:m})]),e.createElementVNode("form",{onSubmit:e.withModifiers(T,["prevent"])},[e.createElementVNode("div",_,[e.createElementVNode("div",E,[l[4]||(l[4]=e.createElementVNode("label",{class:"form-label"},"Ваше имя",-1)),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=r=>o.value=r),autocomplete:"name"},null,512),[[e.vModelText,o.value]])]),e.createElementVNode("div",N,[l[5]||(l[5]=e.createElementVNode("label",{class:"form-label"},[e.createTextVNode("Email или телефон "),e.createElementVNode("span",{style:{color:"red"}},"*")],-1)),e.withDirectives(e.createElementVNode("input",{type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=r=>n.value=r),required:""},null,512),[[e.vModelText,n.value]])]),e.createElementVNode("div",V,[l[6]||(l[6]=e.createElementVNode("label",{class:"form-label"},[e.createTextVNode("Что произошло? "),e.createElementVNode("span",{style:{color:"red"}},"*")],-1)),e.withDirectives(e.createElementVNode("textarea",{class:"form-control","onUpdate:modelValue":l[2]||(l[2]=r=>d.value=r),rows:"4",required:"",minlength:"10"},null,512),[[e.vModelText,d.value]]),d.value&&d.value.length<10?(e.openBlock(),e.createElementBlock("div",g,"Минимум 10 символов")):e.createCommentVNode("",!0)])]),e.createElementVNode("div",k,[e.createElementVNode("button",{type:"button",class:"btn btn-secondary",onClick:m},"Отмена"),e.createElementVNode("button",{type:"submit",class:"btn btn-primary",disabled:!I.value},"Отправить",8,x)])],32)])])]))}},[["__scopeId","data-v-f02bf000"]]),w=["aria-pressed"],B=f({__name:"FeedbackButton",setup(a){const t=e.ref(!1);return(c,o)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("button",{class:"feedback-btn","aria-pressed":t.value,onClick:o[0]||(o[0]=n=>t.value=!0)},[...o[2]||(o[2]=[e.createElementVNode("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),e.createElementVNode("text",{x:"12",y:"17","text-anchor":"middle","font-size":"16",fill:"#0d6efd","font-family":"Arial","dominant-baseline":"middle"},"?")],-1)])],8,w),t.value?(e.openBlock(),e.createBlock(y,{key:0,onClose:o[1]||(o[1]=n=>t.value=!1)})):e.createCommentVNode("",!0)]))}},[["__scopeId","data-v-19f7d865"]]),C={__name:"app",setup(a){return(t,c)=>{const o=e.resolveComponent("NuxtRouteAnnouncer"),n=e.resolveComponent("NuxtWelcome");return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(o),e.createVNode(n),e.createVNode(B)])}}},S="1.0.0";function h(a="#widget-root"){p();let t=document.querySelector(a);t||(t=document.createElement("div"),t.id=a.replace("#",""),document.body.appendChild(t)),e.createApp(C).mount(t)}s.WIDGET_VERSION=S,s.default=h,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
